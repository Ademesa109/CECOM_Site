(self.webpackChunkannular=self.webpackChunkannular||[]).push([[6194],{3961:(t,e,i)=>{"use strict";i.d(e,{E:()=>a});var a=function(t){return t[t.ERROR=1]="ERROR",t[t.INFORMATIVO=2]="INFORMATIVO",t[t.EXITO=3]="EXITO",t[t.ADVERTENCIA=4]="ADVERTENCIA",t[t.DEFAULT=5]="DEFAULT",t[t.ESPERA=6]="ESPERA",t}({})},6194:(t,e,i)=>{"use strict";i.r(e),i.d(e,{ReporteDeEstatusModule:()=>W,routes:()=>q});var a=i(1116),n=i(1041),o=i(2612),r=i(5346),s=i(1225),l=i(9996),d=i(7727),c=i(3961),m=i(9244),p=i(5291),u=i(2935),h=i(8597),f=i(8352),g=i(5366),x=i(5059),b=i(1274),v=i(8704),w=i(4538),S=i(5164),y=i(3251),E=i(5965),k=i(3070),C=i(6174),I=i(9024),_=i(6570),T=i(1293),O=i(6278),R=i(4369);let L=(()=>{class t{constructor(t,e,i,a,o,r,s,l,d,c,p){this.dialogRef=t,this.myStorage=e,this.utilsSrv=i,this.httpConn=a,this.appSettings=o,this.dialog=r,this.toastaService=s,this.toastaConfig=l,this.Notificacion=d,this.utilsSvc=c,this.data=p,this.catConfig=new h.Y,this.displayToasta=!0,this.dateFecha=new n.NI(new Date(this.utilsSvc.GetLocalISODate(Date.now()).replace(/-/g,"/"))),this.fecha_registro=(new Date).toLocaleString("en-US",{hour12:!0}),this.fecha=this.utilsSvc.GetLocalISODate((new Date).getTime()),this.hora=(new Date).toLocaleString("en-GB",{hour12:!1}).split(" ")[1].substring(0,5),this.maxDate=new Date,this.settings=this.appSettings.settings,this.configuraciones=this.toastaConfig,this.opciones=this.toastaService,this.Notificacion=new m.g(this.opciones,this.configuraciones),this.id_asignacion=this.data.id_asignacion,this.unidad=this.data.unidad,this.calle=this.data.calle,this.folio=this.data.folio}ngOnInit(){}ngAfterViewInit(){}inputDate(t){}addDate(t){if(!/^\d{2}\/\d{2}\/\d{4}$/.test(t))return this.Notificacion.ShowToasta("Favorde capturar una fecha v\xe1lida.",c.E.ADVERTENCIA),void(this.dateFecha=new n.NI(this.dateFecha.value.d));let e=t.split("/"),i=new Date(+e[2],e[1]-1,+e[0]);this.dateFecha=new n.NI(i),this.fecha=this.utilsSvc.GetLocalISODate(i.getTime())}MostrarDialogConfirma(){this.dialog.open(f.B,{data:{titulo:"Poner en ruta",mensaje:"\xbfDesea actualizar la asignaci\xf3n al estatus EN RUTA?",tipo:5},disableClose:!0}).afterClosed().subscribe(t=>{t.confirm&&this.CambiarEstatus()})}CambiarEstatus(){this.settings.loadingSpinnerProcess=!0,this.utilsSvc.GetLocalISODateTime(Date.now()).split("T");let t={id_asignacion:this.data.id_asignacion,id_estatus:2,id_usuario:this.myStorage.getItem("id_usuario"),fecha_registro:this.fecha+" "+this.hora+":"+(new Date).getSeconds()};this.httpConn.postAPI("Seguimiento","SetCambioEstatus",t).subscribe(t=>{this.Notificacion.ShowToasta("Se ha registrado con \xe9xito la informaci\xf3n.",c.E.EXITO),setTimeout(()=>{this.onOkClick()},1e3)},t=>{this.Notificacion.ShowToasta("Ocurri\xf3 un error inesperado.",c.E.ERROR)}).add(()=>this.settings.loadingSpinnerProcess=!1)}GetTime(t){this.hora=t}onOkClick(){this.dialogRef.close({})}OnCloseClick(){this.dialogRef.close()}}return t.\u0275fac=function(e){return new(e||t)(g["\u0275\u0275directiveInject"](u.so),g["\u0275\u0275directiveInject"](x.X),g["\u0275\u0275directiveInject"](b.F),g["\u0275\u0275directiveInject"](v.P),g["\u0275\u0275directiveInject"](w.d),g["\u0275\u0275directiveInject"](u.uw),g["\u0275\u0275directiveInject"](S.zk),g["\u0275\u0275directiveInject"](S.YU),g["\u0275\u0275directiveInject"](m.g),g["\u0275\u0275directiveInject"](b.F),g["\u0275\u0275directiveInject"](u.WI))},t.\u0275cmp=g["\u0275\u0275defineComponent"]({type:t,selectors:[["app-en-ruta"]],decls:44,vars:17,consts:[[1,"bg-primary"],["mat-dialog-title",""],["mat-dialog-content","",2,"height","35vh"],["fxLayout","column",1,"p-1",2,"height","inherit"],["fxLayout","column","fxFlex","50px","fxLayoutGap","10px"],["fxLayoutGap","row","fxFlex","90","fxLayoutGap","10px",1,"w-100"],[1,"lbl-info"],["fxFlex","50",1,"w-100","mat-form-field-no-label"],["matInput","","placeholder","Fecha",3,"matDatepicker","max","formControl","dateChange"],["fecha",""],["matSuffix","",3,"for"],["dpFecha",""],["fxFlex","40",3,"value","ngClass","GetTime"],["fxLayout","column","fxFlex","90px","fxLayoutGap","10px","fxLayoutAlign","center start"],["fxLayout","column","fxLayoutGap","2px",1,"w-100"],["fxFlex","20px"],["fxFlex","20px",1,"w-100"],["mat-dialog-actions","",2,"padding-left","1vw"],["mat-raised-button","","color","primary","tabindex","1",3,"click"],["mat-raised-button","","tabindex","2",3,"click"]],template:function(t,e){if(1&t){const t=g["\u0275\u0275getCurrentView"]();g["\u0275\u0275elementStart"](0,"mat-card-header",0),g["\u0275\u0275elementStart"](1,"h1",1),g["\u0275\u0275text"](2," EN RUTA: "),g["\u0275\u0275elementStart"](3,"span"),g["\u0275\u0275elementStart"](4,"i"),g["\u0275\u0275text"](5),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](6,"div",2),g["\u0275\u0275elementStart"](7,"div",3),g["\u0275\u0275elementStart"](8,"div",4),g["\u0275\u0275elementStart"](9,"div",5),g["\u0275\u0275elementStart"](10,"span",6),g["\u0275\u0275text"](11),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](12,"span",6),g["\u0275\u0275text"](13),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](14,"div",4),g["\u0275\u0275elementStart"](15,"div",5),g["\u0275\u0275elementStart"](16,"mat-form-field",7),g["\u0275\u0275elementStart"](17,"input",8,9),g["\u0275\u0275listener"]("dateChange",function(){g["\u0275\u0275restoreView"](t);const i=g["\u0275\u0275reference"](18);return e.addDate(i.value)}),g["\u0275\u0275elementEnd"](),g["\u0275\u0275element"](19,"mat-datepicker-toggle",10),g["\u0275\u0275element"](20,"mat-datepicker",null,11),g["\u0275\u0275elementStart"](22,"mat-error"),g["\u0275\u0275text"](23,"error"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](24,"cr-time-picker",12),g["\u0275\u0275listener"]("GetTime",function(t){return e.GetTime(t)}),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](25,"div",13),g["\u0275\u0275elementStart"](26,"div",14),g["\u0275\u0275elementStart"](27,"span",15),g["\u0275\u0275text"](28,"Registrado por:"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](29,"span",16),g["\u0275\u0275text"](30),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](31,"div",14),g["\u0275\u0275elementStart"](32,"span",15),g["\u0275\u0275text"](33,"Fecha registro:"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](34,"span",16),g["\u0275\u0275text"](35),g["\u0275\u0275pipe"](36,"date"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275element"](37,"mat-divider"),g["\u0275\u0275elementStart"](38,"div",17),g["\u0275\u0275elementStart"](39,"button",18),g["\u0275\u0275listener"]("click",function(){return e.MostrarDialogConfirma()}),g["\u0275\u0275text"](40,"Guardar"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](41,"button",19),g["\u0275\u0275listener"]("click",function(){return e.OnCloseClick()}),g["\u0275\u0275text"](42,"Regresar"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275element"](43,"ngx-toasta")}if(2&t){const t=g["\u0275\u0275reference"](21);g["\u0275\u0275advance"](5),g["\u0275\u0275textInterpolate1"]("\xa0",e.folio,""),g["\u0275\u0275advance"](6),g["\u0275\u0275textInterpolate"](e.unidad),g["\u0275\u0275advance"](2),g["\u0275\u0275textInterpolate"](e.calle),g["\u0275\u0275advance"](4),g["\u0275\u0275property"]("matDatepicker",t)("max",e.maxDate)("formControl",e.dateFecha),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("for",t),g["\u0275\u0275advance"](1),g["\u0275\u0275attribute"]("disabled",!1),g["\u0275\u0275advance"](4),g["\u0275\u0275property"]("value",e.hora)("ngClass",""),g["\u0275\u0275advance"](6),g["\u0275\u0275textInterpolate"](e.myStorage.getItem("nombre_personal")),g["\u0275\u0275advance"](5),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind2"](36,14,e.fecha_registro,"dd/MM/yyyy HH:mm")),g["\u0275\u0275advance"](8),g["\u0275\u0275styleProp"]("display",e.displayToasta?"block":"none")}},directives:[y.dk,u.uh,u.xY,E.xw,E.yH,E.SQ,k.KE,C.Nt,I.hl,n.Fj,n.JJ,n.oH,I.nW,k.R9,I.Mq,k.TO,_.e,a.mk,T.oO,E.Wh,O.d,u.H8,R.lW,S.qH],pipes:[a.uU],encapsulation:2}),t})();var D=i(3841),M=i(7307),F=i(7064);function j(t,e){if(1&t&&(g["\u0275\u0275elementStart"](0,"mat-option",30),g["\u0275\u0275text"](1),g["\u0275\u0275elementEnd"]()),2&t){const t=e.$implicit;g["\u0275\u0275property"]("value",t),g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate"](t.descripcion)}}function P(t,e){if(1&t&&(g["\u0275\u0275elementStart"](0,"mat-option",30),g["\u0275\u0275text"](1),g["\u0275\u0275elementEnd"]()),2&t){const t=e.$implicit;g["\u0275\u0275property"]("value",t),g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate"](t.descripcion)}}function z(t,e){if(1&t){const t=g["\u0275\u0275getCurrentView"]();g["\u0275\u0275elementStart"](0,"div",31),g["\u0275\u0275elementStart"](1,"mat-form-field",10),g["\u0275\u0275elementStart"](2,"mat-label"),g["\u0275\u0275text"](3,"Motivo"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](4,"mat-select",11),g["\u0275\u0275listener"]("ngModelChange",function(e){return g["\u0275\u0275restoreView"](t),g["\u0275\u0275nextContext"]().motivo=e}),g["\u0275\u0275template"](5,P,2,2,"mat-option",12),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"]()}if(2&t){const t=g["\u0275\u0275nextContext"]();g["\u0275\u0275advance"](4),g["\u0275\u0275property"]("ngModel",t.motivo),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngForOf",t.motivoList)}}let A=(()=>{class t{constructor(t,e,i,a,o,r,s,l,d,c,p){this.dialogRef=t,this.myStorage=e,this.utilsSrv=i,this.httpConn=a,this.appSettings=o,this.dialog=r,this.toastaService=s,this.toastaConfig=l,this.Notificacion=d,this.utilsSvc=c,this.data=p,this.catConfig=new h.Y,this.motivo={},this.muestraMotivo=!1,this.displayToasta=!0,this.fecha_registro=(new Date).toLocaleString("en-US",{hour12:!0}),this.statusSecuencia=[],this.dateFecha=new n.NI(new Date(this.utilsSvc.GetLocalISODate(Date.now()).replace(/-/g,"/"))),this.hora=(new Date).toLocaleString("en-GB",{hour12:!1}).split(" ")[1].substring(0,5),this.fecha=this.utilsSvc.GetLocalISODate((new Date).getTime()),this.maxDate=new Date,this.settings=this.appSettings.settings,this.configuraciones=this.toastaConfig,this.opciones=this.toastaService,this.Notificacion=new m.g(this.opciones,this.configuraciones),this.id_asignacion=this.data.id_asignacion,this.id_status_anterior=this.data.id_status_anterior,this.estatus_anterior=this.data.estatus_anterior,this.unidad=this.data.unidad,this.calle=this.data.calle,this.folio=this.data.folio}ngOnInit(){}ngAfterViewInit(){this.ListEstatusSecuencia()}DdwEstatus(){this.settings.loadingSpinnerProcess=!0,this.httpConn.postAPI("Seguimiento","DdwSeguimientoEstatus",{}).subscribe(t=>{let e=t.response.estatus,i=t.response.motivos,a=this.statusSecuencia.filter(t=>t.id_status_actual==this.id_status_anterior).map(t=>t.id_status_siguiente);this.estatusList=e.filter(t=>a.includes(t.id_status)),this.motivoGral=i,this.estatus=this.estatusList[0]},t=>{this.Notificacion.ShowToasta("Ocurri\xf3 un error inesperado.",c.E.ERROR)}).add(()=>this.settings.loadingSpinnerProcess=!1)}MostrarDialogConfirma(){![8,9].includes(this.estatus.id_status)||this.motivo.hasOwnProperty("id")?this.dialog.open(f.B,{data:{titulo:"Poner en ruta",mensaje:"\xbfDesea actualizar la asignaci\xf3n al estatus "+this.estatus.descripcion+"?",tipo:5},disableClose:!0}).afterClosed().subscribe(t=>{t.confirm&&this.CambiarEstatus()}):this.Notificacion.ShowToasta("Es necesario seleccionar un motivo. Favor de verificar.",c.E.ADVERTENCIA)}addDate(t){if(!/^\d{2}\/\d{2}\/\d{4}$/.test(t))return this.Notificacion.ShowToasta("Favorde capturar una fecha v\xe1lida.",c.E.ADVERTENCIA),void(this.dateFecha=new n.NI(this.dateFecha.value.d));let e=t.split("/"),i=new Date(+e[2],e[1]-1,+e[0]);this.dateFecha=new n.NI(i),this.fecha=this.utilsSvc.GetLocalISODate(i.getTime())}ListEstatusSecuencia(){this.httpConn.postAPI("Seguimiento","ListEstatusSecuencia",{}).subscribe(t=>{this.statusSecuencia=t.response,this.DdwEstatus()},t=>{this.Notificacion.ShowToasta(t.error.message,c.E.ERROR)}).add(()=>this.settings.loadingSpinnerProcess=!1)}CambiarEstatus(){var t;this.settings.loadingSpinnerProcess=!0;let e=this.utilsSvc.GetLocalISODateTime(Date.now()).split("T"),i={id_asignacion:this.data.id_asignacion,id_estatus:this.estatus.id_status,id_traslado:this.estatus.id_traslado,id_motivo:(null===(t=this.motivo)||void 0===t?void 0:t.id)||0,id_usuario:this.myStorage.getItem("id_usuario"),fecha_registro:e[0]+" "+e[1].substring(0,8)};this.httpConn.postAPI("Seguimiento","SetCambioEstatus",i).subscribe(t=>{this.Notificacion.ShowToasta("Se ha registrado con \xe9xito la informaci\xf3n.",c.E.EXITO),setTimeout(()=>{this.onOkClick()},1e3)},t=>{this.Notificacion.ShowToasta(t.error.message,c.E.ERROR)}).add(()=>this.settings.loadingSpinnerProcess=!1)}ChangeEstatus(t){this.estatus=t,t.id_traslado>1?(this.muestraMotivo=!0,this.motivoList=this.motivoGral.filter(e=>e.id_traslado==t.id_traslado)):(this.motivo={},this.muestraMotivo=!1)}GetTime(t){this.hora=t}onOkClick(){this.dialogRef.close({})}OnCloseClick(){this.dialogRef.close()}}return t.\u0275fac=function(e){return new(e||t)(g["\u0275\u0275directiveInject"](u.so),g["\u0275\u0275directiveInject"](x.X),g["\u0275\u0275directiveInject"](b.F),g["\u0275\u0275directiveInject"](v.P),g["\u0275\u0275directiveInject"](w.d),g["\u0275\u0275directiveInject"](u.uw),g["\u0275\u0275directiveInject"](S.zk),g["\u0275\u0275directiveInject"](S.YU),g["\u0275\u0275directiveInject"](m.g),g["\u0275\u0275directiveInject"](b.F),g["\u0275\u0275directiveInject"](u.WI))},t.\u0275cmp=g["\u0275\u0275defineComponent"]({type:t,selectors:[["app-cambio-estatus"]],decls:61,vars:19,consts:[[1,"bg-primary"],["mat-dialog-title",""],["mat-dialog-content","",2,"height","45vh"],["fxLayout","column",1,"p-1",2,"height","inherit"],["fxLayout","column","fxFlex","35px","fxLayoutGap","10px"],["fxLayoutGap","row","fxFlex","90","fxLayoutGap","10px",1,"w-100"],[1,"lbl-info"],["fxLayout","column","fxFlex","50px","fxLayoutGap","10px"],["fxLayout","column","fxFlex","80px","fxLayoutGap","10px"],["fxLayout","row","fxFlex","90","fxLayoutGap","10px",1,"w-100"],["fxFlex","100"],[3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["fxLayout","row","fxFlex","90","class","w-100",4,"ngIf"],["fxFlex","50",1,"w-100","mat-form-field-no-label"],["matInput","","placeholder","Fecha","readonly","",3,"matDatepicker","max","formControl","dateChange"],["fecha",""],["matSuffix","","disabled","",3,"for"],["disabled",""],["dpFecha",""],["fxFlex","30",1,"w-100","mat-form-field-no-label"],["matInput","","type","text","readonly","",3,"ngModel","ngModelChange"],["matSuffix","",2,"font-size","15px !important"],["fxLayout","column","fxFlex","90px","fxLayoutGap","10px","fxLayoutAlign","center start"],["fxLayout","column","fxLayoutGap","2px",1,"w-100"],["fxFlex","20px"],["fxFlex","20px",1,"w-100"],["mat-dialog-actions","",2,"padding-left","1vw"],["mat-raised-button","","color","primary","tabindex","1",3,"click"],["mat-raised-button","","tabindex","2",3,"click"],[3,"value"],["fxLayout","row","fxFlex","90",1,"w-100"]],template:function(t,e){if(1&t){const t=g["\u0275\u0275getCurrentView"]();g["\u0275\u0275elementStart"](0,"mat-card-header",0),g["\u0275\u0275elementStart"](1,"h1",1),g["\u0275\u0275text"](2," CAMBIAR ESTATUS: "),g["\u0275\u0275elementStart"](3,"span"),g["\u0275\u0275elementStart"](4,"i"),g["\u0275\u0275text"](5),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](6,"div",2),g["\u0275\u0275elementStart"](7,"div",3),g["\u0275\u0275elementStart"](8,"div",4),g["\u0275\u0275elementStart"](9,"div",5),g["\u0275\u0275elementStart"](10,"span",6),g["\u0275\u0275text"](11),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](12,"span",6),g["\u0275\u0275text"](13),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](14,"div",7),g["\u0275\u0275elementStart"](15,"div",5),g["\u0275\u0275elementStart"](16,"span"),g["\u0275\u0275text"](17,"Estatus anterior: "),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](18,"span",6),g["\u0275\u0275text"](19),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](20,"div",8),g["\u0275\u0275elementStart"](21,"div",9),g["\u0275\u0275elementStart"](22,"mat-form-field",10),g["\u0275\u0275elementStart"](23,"mat-select",11),g["\u0275\u0275listener"]("ngModelChange",function(t){return e.ChangeEstatus(t)}),g["\u0275\u0275template"](24,j,2,2,"mat-option",12),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275template"](25,z,6,2,"div",13),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](26,"div",7),g["\u0275\u0275elementStart"](27,"div",5),g["\u0275\u0275elementStart"](28,"mat-form-field",14),g["\u0275\u0275elementStart"](29,"input",15,16),g["\u0275\u0275listener"]("dateChange",function(){g["\u0275\u0275restoreView"](t);const i=g["\u0275\u0275reference"](30);return e.addDate(i.value)}),g["\u0275\u0275elementEnd"](),g["\u0275\u0275element"](31,"mat-datepicker-toggle",17),g["\u0275\u0275element"](32,"mat-datepicker",18,19),g["\u0275\u0275elementStart"](34,"mat-error"),g["\u0275\u0275text"](35,"error"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](36,"mat-form-field",20),g["\u0275\u0275elementStart"](37,"mat-label"),g["\u0275\u0275text"](38,"Hora"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](39,"input",21),g["\u0275\u0275listener"]("ngModelChange",function(t){return e.hora=t}),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](40,"mat-icon",22),g["\u0275\u0275text"](41,"access_time"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](42,"div",23),g["\u0275\u0275elementStart"](43,"div",24),g["\u0275\u0275elementStart"](44,"span",25),g["\u0275\u0275text"](45,"Registrado por:"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](46,"span",26),g["\u0275\u0275text"](47),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](48,"div",24),g["\u0275\u0275elementStart"](49,"span",25),g["\u0275\u0275text"](50,"Fecha registro:"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](51,"span",26),g["\u0275\u0275text"](52),g["\u0275\u0275pipe"](53,"date"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275element"](54,"mat-divider"),g["\u0275\u0275elementStart"](55,"div",27),g["\u0275\u0275elementStart"](56,"button",28),g["\u0275\u0275listener"]("click",function(){return e.MostrarDialogConfirma()}),g["\u0275\u0275text"](57,"Guardar"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](58,"button",29),g["\u0275\u0275listener"]("click",function(){return e.OnCloseClick()}),g["\u0275\u0275text"](59,"Regresar"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275element"](60,"ngx-toasta")}if(2&t){const t=g["\u0275\u0275reference"](33);g["\u0275\u0275advance"](5),g["\u0275\u0275textInterpolate1"]("\xa0",e.folio,""),g["\u0275\u0275advance"](6),g["\u0275\u0275textInterpolate"](e.unidad),g["\u0275\u0275advance"](2),g["\u0275\u0275textInterpolate"](e.calle),g["\u0275\u0275advance"](6),g["\u0275\u0275textInterpolate"](e.estatus_anterior),g["\u0275\u0275advance"](4),g["\u0275\u0275property"]("ngModel",e.estatus),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngForOf",e.estatusList),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf",e.muestraMotivo),g["\u0275\u0275advance"](4),g["\u0275\u0275property"]("matDatepicker",t)("max",e.maxDate)("formControl",e.dateFecha),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("for",t),g["\u0275\u0275advance"](8),g["\u0275\u0275property"]("ngModel",e.hora),g["\u0275\u0275advance"](8),g["\u0275\u0275textInterpolate"](e.myStorage.getItem("nombre_personal")),g["\u0275\u0275advance"](5),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind2"](53,16,e.fecha_registro,"dd/MM/yyyy HH:mm")),g["\u0275\u0275advance"](8),g["\u0275\u0275styleProp"]("display",e.displayToasta?"block":"none")}},directives:[y.dk,u.uh,u.xY,E.xw,E.yH,E.SQ,k.KE,D.gD,n.JJ,n.On,a.sg,a.O5,C.Nt,I.hl,n.Fj,n.oH,I.nW,k.R9,I.Mq,k.TO,k.hX,M.Hw,E.Wh,O.d,u.H8,R.lW,S.qH,F.ey],pipes:[a.uU],encapsulation:2}),t})();var N=i(9668),G=i(2524),B=i(4311);const V=["actionBtns"],U=["divUnidades"],H=["principalDiv"],q=[{path:"",component:(()=>{class t{constructor(t,e,i,a,n,o,r,s,l){this.dialog=t,this.appSettings=e,this.httpConn=i,this.myStorage=a,this.toastaService=n,this.toastaConfig=o,this.Notificacion=r,this.exportSvc=s,this.utilsSvc=l,this.displayToasta=!0,this.action_buttons="collapsed",this.delayed_action_buttons="collapsed",this.action_buttons_click=!1,this.showHideUnd=!1,this.muestraUnidadesDisp="hideUnd",this.reload=!1,this.id_permiso=12,this.estatus=[],this.icons={add:p.r8p,download:p.q7m,filter:p.G_j,settings:p.b7W,cert:p.Ua$},this.servSelected=[],this.connectSvc=this.httpConn,this.settings=this.appSettings.settings,this.configuraciones=this.toastaConfig,this.opciones=this.toastaService,this.Notificacion=new m.g(this.opciones,this.configuraciones)}ngOnInit(){}ngAfterViewInit(){this.settings.loadingSpinnerProcess=!0,this.DdwEstatus().subscribe(t=>{let e=t.map(t=>({id:t.id_status,value:t.descripcion})).filter(t=>![7].includes(t.id));this.estatus=e,this.ListSeguimiento().subscribe(t=>{0==t.length?this.Notificacion.ShowToasta("No se encontr\xf3 ningun servicio asignado al personal. Favor de verificar.",c.E.ERROR):this.EvaluaServicio(t[0])},t=>{this.Notificacion.ShowToasta(t.error.message,c.E.ERROR)}).add(()=>{this.settings.loadingSpinnerProcess=!1})},t=>{this.settings.loadingSpinnerProcess=!1,this.Notificacion.ShowToasta("Ocurri\xf3 un error inesperado",c.E.ERROR)})}ngOnDestroy(){}ngAfterViewChecked(){this.divActionBtns.nativeElement.style.marginLeft=this.principalDiv.nativeElement.offsetParent.offsetLeft.toString()+"px"}EvaluaServicio(t){1==t.id_status?this.MostrarEnRuta(t):this.MostrarCambioEstatus(t)}DdwEstatus(){return this.httpConn.postAPI("Seguimiento","DdwSeguimientoEstatus",{}).pipe((0,l.U)(t=>t.success?t.response.estatus:(0,s._)(t.message),(0,d.K)(t=>(0,s._)(t))))}MostrarModalEstatus(){this.ListSeguimiento().subscribe(t=>{0==t.length?this.Notificacion.ShowToasta("No se encontr\xf3 ningun servicio asignado al personal. Favor de verificar.",c.E.ERROR):this.EvaluaServicio(t[0])},t=>{this.Notificacion.ShowToasta(t.error.message,c.E.ERROR)}).add(()=>{this.settings.loadingSpinnerProcess=!1})}ListSeguimiento(){let t=this.utilsSvc.GetLocalISODateTime(Date.now()).split("T"),e={unidades:[],id_operador:this.myStorage.getItem("id_personal"),id_prioridad:null,id_tipo_problematica:null,status:this.estatus,id_tipo_unidad:null,id_delegacion:null,bases:null,fecha:t[0]+" "+t[1].substring(0,5),reporte_estatus:1};return this.connectSvc.postAPI("Seguimiento","ListSeguimiento",e).pipe((0,l.U)(t=>t.success?t.response:(0,s._)(t.message),(0,d.K)(t=>(0,s._)(t))))}ViewActionButtons(){this.action_buttons_click=!this.action_buttons_click,this.action_buttons_click?(this.action_buttons="expanded",setTimeout(()=>{this.delayed_action_buttons="expanded"},100)):(this.delayed_action_buttons="collapsed",setTimeout(()=>{this.action_buttons="collapsed"},100))}MostrarEnRuta(t){this.displayToasta=!1,this.dialog.open(L,{data:{id_asignacion:t.id_asignacion,unidad:t.no_economico,calle:t.ubicacion,folio:t.folio_servicio},panelClass:"dialog-responsive-ruta",height:"55vh"}).afterClosed().subscribe(t=>{this.displayToasta=!0})}MostrarCambioEstatus(t){this.dialog.open(A,{data:{id_asignacion:t.id_asignacion,id_status_anterior:t.id_status,estatus_anterior:t.status_desc,unidad:t.no_economico,calle:t.ubicacion,folio:t.folio_servicio},panelClass:"dialog-responsive-ruta",height:"65vh"}).afterClosed().subscribe(t=>{void 0!==t&&(this.displayToasta=!0)})}}return t.\u0275fac=function(e){return new(e||t)(g["\u0275\u0275directiveInject"](u.uw),g["\u0275\u0275directiveInject"](w.d),g["\u0275\u0275directiveInject"](v.P),g["\u0275\u0275directiveInject"](x.X),g["\u0275\u0275directiveInject"](S.zk),g["\u0275\u0275directiveInject"](S.YU),g["\u0275\u0275directiveInject"](m.g),g["\u0275\u0275directiveInject"](N.T),g["\u0275\u0275directiveInject"](b.F))},t.\u0275cmp=g["\u0275\u0275defineComponent"]({type:t,selectors:[["app-reporte-estatus"]],viewQuery:function(t,e){if(1&t&&(g["\u0275\u0275viewQuery"](V,5),g["\u0275\u0275viewQuery"](U,5),g["\u0275\u0275viewQuery"](H,5)),2&t){let t;g["\u0275\u0275queryRefresh"](t=g["\u0275\u0275loadQuery"]())&&(e.divActionBtns=t.first),g["\u0275\u0275queryRefresh"](t=g["\u0275\u0275loadQuery"]())&&(e.divUnidades=t.first),g["\u0275\u0275queryRefresh"](t=g["\u0275\u0275loadQuery"]())&&(e.principalDiv=t.first)}},decls:17,vars:11,consts:[[3,"icon","title","hideBreadcrumb","hasBgImage"],["fxLayout","column","fxLayoutGap","10px",1,"p-0"],["principalDiv",""],[1,"custom-card"],["fxLayout","row","fxLayoutGap","10px","fxLayoutAlign","start start",2,"height","62px","position","fixed","z-index","999","bottom","0","left","0px","background-color","#ffffff00"],["fxFlex","row","id","action-btns","fxLayoutGap","10px",2,"height","40px"],["actionBtns",""],["fxFlex","1"],["mat-fab","","tabindex","2","matTooltip","Acciones",1,"action-buttons",2,"background-color","#4b4444","margin-right","10px !important",3,"click"],["mat-fab","","color","primary","tabindex","2","matTooltip","Cambiar estatus",1,"action-buttons",3,"ngClass","click"]],template:function(t,e){1&t&&(g["\u0275\u0275element"](0,"app-content-header",0),g["\u0275\u0275elementStart"](1,"div",1,2),g["\u0275\u0275elementStart"](3,"mat-card",3),g["\u0275\u0275element"](4,"mat-card-header"),g["\u0275\u0275element"](5,"mat-card-content"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](6,"div",4),g["\u0275\u0275elementStart"](7,"div",5,6),g["\u0275\u0275element"](9,"div",7),g["\u0275\u0275elementStart"](10,"button",8),g["\u0275\u0275listener"]("click",function(){return e.ViewActionButtons()}),g["\u0275\u0275elementStart"](11,"mat-icon"),g["\u0275\u0275text"](12,"more_horiz"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](13,"button",9),g["\u0275\u0275listener"]("click",function(){return"expanded"==e.action_buttons?e.MostrarModalEstatus():""}),g["\u0275\u0275elementStart"](14,"mat-icon"),g["\u0275\u0275text"](15,"edit_location"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275element"](16,"ngx-toasta")),2&t&&(g["\u0275\u0275classMap"]("pb-4"),g["\u0275\u0275property"]("icon","library_books")("title","Registro de Atenci\xf3n Prehospitalaria")("hideBreadcrumb",!1)("hasBgImage",!0),g["\u0275\u0275advance"](7),g["\u0275\u0275styleProp"]("width","expanded"==e.action_buttons?"400px":"60px"),g["\u0275\u0275advance"](6),g["\u0275\u0275property"]("ngClass",e.action_buttons),g["\u0275\u0275advance"](3),g["\u0275\u0275styleProp"]("display",e.displayToasta?"block":"none"))},directives:[G.e,E.xw,E.SQ,y.a8,y.dk,y.dn,E.Wh,E.yH,R.lW,B.gM,M.Hw,a.mk,T.oO,S.qH],styles:["app-en-ruta .lbl-info{font-size:13px;font-weight:700}app-en-ruta cr-time-picker div.mat-form-field-suffix mat-icon{font-size:15px!important}app-cambio-estatus .lbl-info{font-size:13px;font-weight:700}app-cambio-estatus cr-time-picker div.mat-form-field-suffix mat-icon{font-size:15px!important}app-reporte-estatus .mat-fab .mat-button-wrapper{padding:0}app-reporte-estatus .action-buttons{height:44px;width:44px;opacity:.8;margin-right:10px!important}app-reporte-estatus #action-btns{height:45px}app-reporte-estatus #action-btns .collapsed{opacity:0;transition:opacity .4s;width:0;z-index:-9999;margin-right:0!important;display:none}app-reporte-estatus #action-btns .expanded{opacity:.9;transition:opacity .4s;width:45px;z-index:9999}.dialog-responsive-ruta{width:25%}@media only screen and (max-width:1025px){.dialog-responsive-ruta{width:40%}}@media only screen and (max-width:768px){.dialog-responsive-ruta{width:80%}}",'.bdg-det{border-radius:10px;height:25px;line-height:25px;width:60%}.bdg-det-incomplete{background-color:#ed5569}.bdg-det-completed{background-color:#1ab394}.bdg-det-draw{background-color:#1b1ba0}.bdg-det-not-complete{background-color:#f7b934}.bdg-det-pending{background-color:#7f7f7f}.bdg-ventana-horaria{background-color:#2e7d32}div.opcion-box-preview.cdk-drag-preview{font-size:22px;font-weight:700;color:#fff;border-radius:5px;border:5px solid darkred;background-color:red;position:relative;text-align:center;height:50px;width:50px;opacity:.6;margin-left:-20px;margin-top:-50px}.mat-drawer-inner-container{overflow:hidden}.mat-button,.mat-fab,.mat-flat-button,.mat-icon-button,.mat-mini-fab,.mat-raised-button,.mat-stroked-button{font-size:13px}.content-header{height:10px!important}.expansion-header{font-size:16px;font-weight:700}.my-custom-1{margin-bottom:.1rem;margin-top:.1rem}.mat-footer-row,.mat-row{min-height:30px;height:50px;padding-top:0}.mat-card-header .mat-card-title{font-size:14px;font-weight:700}.mat-table{overflow-x:auto}.mat-table .Columna{font-weight:700;color:#2f76b5!important}.mat-table .Comentarios{padding-right:10px}.mat-table .Comentarios span{display:block!important;width:100%}.mat-header-row,.mat-row{display:inline-flex!important;min-width:100%;height:37px!important;min-height:25px!important}mat-row:hover{background-color:#f5f5f5}.mat-header-cell{padding-top:10px;text-align:center!important}.form-full-width{min-width:150px;width:100%}.icon-header{margin-top:-10px!important}mat-icon{height:20px!important;width:20px!important;font-size:19px!important}mat-icon.prefix{font-size:18px;width:24px!important}.dialog-responsive-cat{width:35%}@media only screen and (max-width:1025px){.dialog-responsive-cat{width:50%}}@media only screen and (max-width:768px){.dialog-responsive-cat{width:100%}}.required:after{content:" *";color:red}mat-form-field.fieldRequired .mat-form-field-wrapper div.mat-form-field-underline,mat-form-field.fieldRequired .mat-form-field-wrapper div.mat-form-field-underlinespan.mat-form-field-ripple{background-color:red!important}mat-form-field.fieldRequired .mat-form-field-wrapper .mat-form-field-label,mat-label.fieldRequired,span.fieldRequired{color:red!important}.mat-form-field-label-wrapper{overflow:visible!important}.mat-form-field-disabled .mat-form-field-underline{background-image:linear-gradient(90deg,#000 0,#0000006b 33%,#c2c7cc 0)!important;background-size:1px 100%!important;background-repeat:repeat-x!important}.mat-form-field-no-label.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{transform:none;width:auto;opacity:0}.mat-form-field-no-label.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:initial}input.mat-input-element.mat-form-field-autofill-control{height:15px;padding-left:5px}label.mat-form-field-label{height:20px}label.mat-form-field-label mat-label{top:7px;position:relative}.myapp-no-padding-dialog .mat-dialog-container{padding:0}mat-form-field:not(.login-field) .mat-form-field-flex>.mat-form-field-infix{padding-bottom:6.5px!important;padding-top:2px!important;border-top-width:0}.mat-form-field-label-wrapper{top:-1.5em}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{transform:translateY(-1em) scale(.75);width:133.33333%}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:5!important}.mat-form-field-appearance-outline .mat-form-field-prefix>.mat-icon,.mat-form-field-appearance-outline .mat-form-field-suffix>.mat-icon{top:.55em}.noscrollbar{-ms-overflow-style:none;scrollbar-width:none}.noscrollbar::-webkit-scrollbar{display:none}.mat-dialog-content{max-height:90%!important;font-size:11px!important;margin:0!important;padding:0!important}.mat-card-content{font-size:11px}.mat-chip,.mat-option{font-size:10px!important}.mat-option{max-height:28px!important}.mat-dialog-title{margin:8px 0!important;font:500 15px/30px Roboto,Helvetica Neue,sans-serif!important}.mat-dialog-container{padding:0!important;overflow:hidden!important}.mat-dialog-content{padding:10px!important}.mat-dialog-actions{min-height:0!important;margin-bottom:0!important}.mat-cell{font-size:11px!important;height:100%!important}.mat-cell mat-form-field{height:100%!important;line-height:2!important}.mat-cell autocomplete,.mat-cell cr-datepicker{height:100%!important}.cell-align-left{justify-content:flex-start}.cell-align-right{justify-content:flex-end;padding-right:20px}.cell-align-center{justify-content:center;padding-right:20px}.mat-card.custom-card .mat-card-header{margin:-16px -16px 0;height:40px;align-items:center}.autocomplete ul{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;height:130px!important;padding:0 16px;text-align:left;text-decoration:none;position:relative;cursor:pointer;outline:0;display:flex;flex-direction:column;max-width:100%;box-sizing:border-box;align-items:center;-webkit-tap-highlight-color:transparent;font-size:11px!important;overflow-y:scroll!important;border-radius:4px;border-color:#e4e4e4;box-shadow:0 2px 4px -1px #0003,0 4px 5px 0 #00000024,0 1px 10px 0 #0000001f}.bg-danger{background-color:#f62d51!important;color:#fff}.bg-disabled{color:#fff}.badge{font-weight:400;border-radius:3px;font-weight:300;line-height:1.3;font-size:85%;font-weight:500;color:#fff}.bdg-success{background-color:#00b109!important}.bdg-warning{background-color:#ffb60b!important}.bdg-default{background-color:#8800c7!important}.bdg-disabled{background-color:hsla(0,1%,73%,.849)}.bdg-primary{background-color:#000c8f!important}.bdg-danger{background-color:#d60000!important}.badge{display:inline-block;padding:.25em .4em;font-size:90%;font-weight:700;line-height:1;text-align:center;white-space:nowrap;vertical-align:initial;border-radius:.25rem}.mat-expansion-panel-content,mat-expansion-panel-header{font-size:11px!important}.cdk-overlay-pane.dialog-loc{position:relative!important}mat-card-header.mat-card-header.bg-primary{background:#006d99!important}button.mat-raised-button.mat-primary{background-color:#339e3d!important}mat-dialog-container mat-card-header.mat-card-header.bg-primary{background:#507d90!important}.Etiqueta{padding-right:20px;align-items:center}.Etiqueta span{padding:2px 10px;border-radius:10px;width:90%;text-align:center}.bdg-estatus{display:flex;align-items:center;width:100%;height:auto!important;border-radius:10px}.IconoTituloList{align-items:flex-end}.IconoTituloList button{display:inline-flex;margin-top:0!important;place-content:center center}.IconoTituloList button mat-icon{font-size:28px!important;margin-left:-9px!important;margin-top:-3px!important}.IconoTituloList .mat-button-wrapper .ng-fa-icon{font-size:23px!important}.mat-card.custom-card-2{padding:0!important}.mat-card.custom-card-2 .mat-card-header{height:40px;align-items:center}.header-text-modal{font-family:Roboto!important;font-weight:700!important;font-size:14px!important}@media (min-width:576px){.d-sm-none{display:none!important}.d-sm-inline{display:inline!important}.d-sm-inline-block{display:inline-block!important}.d-sm-block{display:block!important}.d-sm-table{display:table!important}.d-sm-table-row{display:table-row!important}.d-sm-table-cell{display:table-cell!important}.d-sm-flex{display:flex!important}.d-sm-inline-flex{display:inline-flex!important}}@media (min-width:768px){.d-md-none{display:none!important}.d-md-inline{display:inline!important}.d-md-inline-block{display:inline-block!important}.d-md-block{display:block!important}.d-md-table{display:table!important}.d-md-table-row{display:table-row!important}.d-md-table-cell{display:table-cell!important}.d-md-flex{display:flex!important}.d-md-inline-flex{display:inline-flex!important}}@media (min-width:992px){.d-lg-none{display:none!important}.d-lg-inline{display:inline!important}.d-lg-inline-block{display:inline-block!important}.d-lg-block{display:block!important}.d-lg-table{display:table!important}.d-lg-table-row{display:table-row!important}.d-lg-table-cell{display:table-cell!important}.d-lg-flex{display:flex!important}.d-lg-inline-flex{display:inline-flex!important}}@media (min-width:1200px){.d-xl-none{display:none!important}.d-xl-inline{display:inline!important}.d-xl-inline-block{display:inline-block!important}.d-xl-block{display:block!important}.d-xl-table{display:table!important}.d-xl-table-row{display:table-row!important}.d-xl-table-cell{display:table-cell!important}.d-xl-flex{display:flex!important}.d-xl-inline-flex{display:inline-flex!important}}.bg-primary-mat-header{background-color:#4955a9;border-color:#4955a9;color:#fff}.bg-secondary-mat-header{background-color:#007fae;border-color:#007fae;color:#fff}.bg-primary-mat-header:hover{background-color:#4955a9!important;border-color:#4955a9!important;color:#fff!important}.mat-button-bg-primary{background-color:#80b9ce!important;color:#fff;border:1px solid #80b9ce!important;border:none;border-radius:4px}.mat-button-bg-default,.mat-button-bg-primary{font-weight:400;box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:initial;text-align:center;margin-right:8px;min-width:64px;line-height:36px;padding:0 16px;overflow:visible;transform:translateZ(0);transition:background .4s cubic-bezier(.25,.8,.25,1),box-shadow .28s cubic-bezier(.4,0,.2,1)}.mat-button-bg-default{background-color:#fff!important;color:#555!important;border:1px solid #ddd!important;border:none;border-radius:4px}.padding-mat{padding-bottom:15px}'],encapsulation:2}),t})(),pathMatch:"full"}];let W=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=g["\u0275\u0275defineNgModule"]({type:t}),t.\u0275inj=g["\u0275\u0275defineInjector"]({providers:[],imports:[[a.ez,o.Bz.forChild(q),n.u5,n.UX,r.m]]}),t})()},9244:(t,e,i)=>{"use strict";i.d(e,{g:()=>o});var a=i(5366),n=i(5164);let o=(()=>{class t{constructor(t,e){this.toastaService=t,this.toastaConfig=e,this.objToast={title:"",msg:"",showClose:!0,showDuration:!1,theme:"default",timeout:7e3},this.toastaConfig.limit=10}ShowToasta(t,e){switch(this.objToast.msg=t,this.toastaConfig.timeout=this.CalculaTiempo(t),e){case 1:this.objToast.title="\xa1Error!",this.toastaService.error(this.objToast);break;case 2:this.objToast.title="Info:",this.toastaService.info(this.objToast);break;case 3:this.objToast.title="\xa1\xc9xito!",this.toastaService.success(this.objToast);break;case 4:this.objToast.title="\xa1Advertencia!",this.toastaService.warning(this.objToast);break;case 5:this.objToast.title="Mensaje:",this.toastaService.default(this.objToast);break;case 6:this.objToast.title="Procesando:",this.toastaService.wait(this.objToast)}}CalculaTiempo(t){return 130*t.length}}return t.\u0275fac=function(e){return new(e||t)(a["\u0275\u0275inject"](n.zk),a["\u0275\u0275inject"](n.YU))},t.\u0275prov=a["\u0275\u0275defineInjectable"]({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},2524:(t,e,i)=>{"use strict";i.d(e,{e:()=>f});var a=i(5366),n=i(1116),o=i(1293),r=i(2612),s=i(1746),l=i(4538),d=i(9624),c=i(5965);const m=function(t){return[t]};function p(t,e){if(1&t&&(a["\u0275\u0275elementStart"](0,"div",4),a["\u0275\u0275elementStart"](1,"a",5),a["\u0275\u0275text"](2),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](3,"span",6),a["\u0275\u0275text"](4),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()),2&t){const t=e.$implicit,i=e.index,n=a["\u0275\u0275nextContext"]();a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("hidden",i==n.breadcrumbs.length-1)("routerLink",a["\u0275\u0275pureFunction1"](5,m,t.url)),a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate"](t.name),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("hidden",i!=n.breadcrumbs.length-1),a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate"](t.name)}}let u=(()=>{class t{constructor(t,e,i,a,n){this.appSettings=t,this.router=e,this.activatedRoute=i,this.title=a,this.menuService=n,this.breadcrumbs=[],this.settings=this.appSettings.settings,this.router.events.subscribe(t=>{t instanceof r.m2&&(this.breadcrumbs=[],this.parseRoute(this.router.routerState.snapshot.root),this.pageTitle="",this.breadcrumbs.forEach(t=>{this.pageTitle+=" > "+t.name}),this.title.setTitle(this.settings.name+this.pageTitle))})}parseRoute(t){if(t.data.breadcrumb&&t.url.length){let e=[];t.pathFromRoot.forEach(t=>{e=e.concat(t.url)});let i=e.map(t=>t.path).join("/");this.breadcrumbs.push({name:t.data.breadcrumb,url:"/"+i})}t.firstChild&&this.parseRoute(t.firstChild)}closeSubMenus(){"vertical"==this.settings.menu&&this.menuService.closeAllSubMenus()}}return t.\u0275fac=function(e){return new(e||t)(a["\u0275\u0275directiveInject"](l.d),a["\u0275\u0275directiveInject"](r.F0),a["\u0275\u0275directiveInject"](r.gz),a["\u0275\u0275directiveInject"](d.Dx),a["\u0275\u0275directiveInject"](s.h))},t.\u0275cmp=a["\u0275\u0275defineComponent"]({type:t,selectors:[["app-breadcrumb"]],features:[a["\u0275\u0275ProvidersFeature"]([s.h])],decls:5,vars:1,consts:[["fxLayout","row",1,"breadcrumb","p-2"],["routerLink","/","fxLayout","row","fxLayoutAlign","start center",1,"breadcrumb-item",3,"click"],[1,"breadcrumb-title"],["class","breadcrumb-item","fxLayout","row","fxLayoutAlign","start center",4,"ngFor","ngForOf"],["fxLayout","row","fxLayoutAlign","start center",1,"breadcrumb-item"],[3,"hidden","routerLink"],[1,"breadcrumb-title","active",3,"hidden"]],template:function(t,e){1&t&&(a["\u0275\u0275elementStart"](0,"div",0),a["\u0275\u0275elementStart"](1,"a",1),a["\u0275\u0275listener"]("click",function(){return e.closeSubMenus()}),a["\u0275\u0275elementStart"](2,"span",2),a["\u0275\u0275text"](3,"Inicio \xa0"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](4,p,5,7,"div",3),a["\u0275\u0275elementEnd"]()),2&t&&(a["\u0275\u0275advance"](4),a["\u0275\u0275property"]("ngForOf",e.breadcrumbs))},directives:[c.xw,r.yS,c.Wh,n.sg],styles:[".breadcrumb[_ngcontent-%COMP%]{font-size:13px}.breadcrumb[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none}.breadcrumb[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{font-size:20px;height:20px;width:20px;padding:0 6px}.breadcrumb[_ngcontent-%COMP%]   .breadcrumb-title.active[_ngcontent-%COMP%]{font-weight:500}.breadcrumb[_ngcontent-%COMP%]   .breadcrumb-item[_ngcontent-%COMP%] + .breadcrumb-item[_ngcontent-%COMP%]:before{display:inline-block;padding-right:.5rem;padding-left:.5rem}"]}),t})();function h(t,e){if(1&t&&(a["\u0275\u0275elementStart"](0,"h4",3),a["\u0275\u0275text"](1),a["\u0275\u0275elementEnd"]()),2&t){const t=a["\u0275\u0275nextContext"]();a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate"](t.desc)}}let f=(()=>{class t{constructor(){this.hideBreadcrumb=!1,this.hasBgImage=!1}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=a["\u0275\u0275defineComponent"]({type:t,selectors:[["app-content-header"]],inputs:{icon:"icon",title:"title",desc:"desc",hideBreadcrumb:"hideBreadcrumb",hasBgImage:"hasBgImage",class:"class"},decls:3,vars:5,consts:[[1,"content-header","bg-primary",3,"ngClass"],[3,"hidden"],["class","p-2",4,"ngIf"],[1,"p-2"]],template:function(t,e){1&t&&(a["\u0275\u0275elementStart"](0,"div",0),a["\u0275\u0275element"](1,"app-breadcrumb",1),a["\u0275\u0275template"](2,h,2,1,"h4",2),a["\u0275\u0275elementEnd"]()),2&t&&(a["\u0275\u0275classProp"]("bg-image",e.hasBgImage),a["\u0275\u0275property"]("ngClass",e.class),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("hidden",e.hideBreadcrumb),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",e.desc))},directives:[n.mk,o.oO,u,n.O5],styles:[".content-header[_ngcontent-%COMP%]{color:#fff;text-align:center}.content-header[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:130px;height:130px;border-radius:50%}.content-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:36px;font-weight:400;margin:0}.content-header[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:16px;font-weight:300;max-width:580px;text-align:center;margin:0 auto}.content-header.bg-image[_ngcontent-%COMP%]{background-image:url(header-bg.54e68bf563cc50acc561.png);background-blend-mode:overlay;background-size:300px;height:10px;background-color:#4b4b4b}@media screen and (min-width:960px){.content-header[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:150px;height:150px}.content-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:48px}.content-header[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:18px}.content-header.has-bg-image[_ngcontent-%COMP%]{background-size:480px}}"]}),t})()},6570:(t,e,i)=>{"use strict";i.d(e,{e:()=>f});var a=i(5366),n=i(5965),o=i(3070),r=i(1116),s=i(1293),l=i(6174),d=i(1249),c=i(7307),m=i(4369);const p=["timePicker"];function u(t,e){if(1&t){const t=a["\u0275\u0275getCurrentView"]();a["\u0275\u0275elementStart"](0,"button",8),a["\u0275\u0275listener"]("click",function(){return a["\u0275\u0275restoreView"](t),a["\u0275\u0275nextContext"](),a["\u0275\u0275reference"](8).updateTime("00:00")}),a["\u0275\u0275text"](1,"Regresar"),a["\u0275\u0275elementEnd"]()}}function h(t,e){1&t&&(a["\u0275\u0275elementStart"](0,"button",9),a["\u0275\u0275text"](1,"Aceptar"),a["\u0275\u0275elementEnd"]())}let f=(()=>{class t{constructor(){this.timezoneoffset=6e4*(new Date).getTimezoneOffset(),this.disabled=!1,this.ngClass="",this.value="",this.label="",this.GetTime=new a.EventEmitter}onTimeChange(t){this.GetTime.emit(t)}abrir(){this.disabled||(this.defaultTime&&!this.value&&(this.value=new Date(Date.now()-this.timezoneoffset).toISOString().slice(0,19).slice(0,-1).split("T")[1].substring(0,5),this.timePicker.defaultTime=this.value),this.timePicker&&this.timePicker.open())}CheckValue(t,e){console.log(t),console.log(e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=a["\u0275\u0275defineComponent"]({type:t,selectors:[["cr-time-picker"]],viewQuery:function(t,e){if(1&t&&a["\u0275\u0275viewQuery"](p,5),2&t){let t;a["\u0275\u0275queryRefresh"](t=a["\u0275\u0275loadQuery"]())&&(e.timePicker=t.first)}},inputs:{disabled:"disabled",ngClass:"ngClass",value:"value",label:"label",defaultTime:"defaultTime"},outputs:{GetTime:"GetTime"},decls:13,vars:8,consts:[["fxLayout","row","fxLayoutAlign","start center"],["fxFlex","100","fxLayoutAlign","start center",1,"w-100",3,"ngClass"],["matInput","","autocomplete","off",3,"ngxMatTimepicker","format","value","disabled"],["matSuffix","",3,"click"],[3,"cancelBtnTmpl","confirmBtnTmpl","timeSet","closed"],["timePicker",""],["cancelBtn",""],["okBtn",""],["mat-button","","color","primary",3,"click"],["mat-button","","color","primary"]],template:function(t,e){if(1&t){const t=a["\u0275\u0275getCurrentView"]();a["\u0275\u0275elementStart"](0,"div",0),a["\u0275\u0275elementStart"](1,"mat-form-field",1),a["\u0275\u0275elementStart"](2,"mat-label"),a["\u0275\u0275text"](3),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](4,"input",2),a["\u0275\u0275elementStart"](5,"mat-icon",3),a["\u0275\u0275listener"]("click",function(){return e.abrir()}),a["\u0275\u0275text"](6,"access_time"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](7,"ngx-mat-timepicker",4,5),a["\u0275\u0275listener"]("timeSet",function(i){a["\u0275\u0275restoreView"](t);const n=a["\u0275\u0275reference"](8);return e.onTimeChange(i),n.updateTime("00:00")})("closed",function(){return a["\u0275\u0275restoreView"](t),a["\u0275\u0275reference"](8).updateTime("00:00")}),a["\u0275\u0275elementEnd"](),a["\u0275\u0275template"](9,u,2,0,"ng-template",null,6,a["\u0275\u0275templateRefExtractor"]),a["\u0275\u0275template"](11,h,2,0,"ng-template",null,7,a["\u0275\u0275templateRefExtractor"])}if(2&t){const t=a["\u0275\u0275reference"](8),i=a["\u0275\u0275reference"](10),n=a["\u0275\u0275reference"](12);a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngClass",e.ngClass),a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate"](e.label),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngxMatTimepicker",t)("format",24)("value",e.value)("disabled",e.disabled),a["\u0275\u0275advance"](3),a["\u0275\u0275property"]("cancelBtnTmpl",i)("confirmBtnTmpl",n)}},directives:[n.xw,n.Wh,o.KE,n.yH,r.mk,s.oO,o.hX,l.Nt,d.Bi,c.Hw,o.R9,d.u_,m.lW],styles:["cr-time-picker .mat-form-field-wrapper{width:100%;position:fit-content}"],encapsulation:2}),t})()}}]);